{"version":3,"sources":["src/scripts/fish.js","src/scripts/controls.js","src/scripts/stats.js","src/scripts/fishbowl.js","src/index.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["fishTypes","gupik","skalar","neonka","getRandom","min","max","Math","random","num","type","position","x","y","z","console","log","html","Controls","fishbowl","buttons","forEach","button","dataset","action","addEventListener","add","fish","remove","fishType","fishes","push","render","stats","index","findIndex","splice","Stats","statsContainer","querySelector","sum","reduce","obj","key","renderStats","textContent","Fishbowl","controls","document","querySelectorAll","init","length","map","join","innerHTML","updateStats","updateFishes","bowl","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["const fishTypes = {\n\tgupik: 'gupik',\n\tskalar: 'skalar',\n\tneonka: 'neonka',\n};\n\nconst getRandom = (min, max) => {\n\tif (min || max) {\n\t\treturn Math.random() * (max - min) + min;\n\t} else {\n\t\tconst num = Math.random() > 0.5 ? 1 : 0;\n\t\treturn num;\n\t}\n};\nexport default type => {\n\tconst position = {\n\t\tx: getRandom(20, 80),\n\t\ty: getRandom(25, 75),\n\t\tz: getRandom(),\n\t};\n\tconsole.log(position);\n\tswitch (type) {\n\t\tcase fishTypes.gupik:\n\t\t\treturn {\n\t\t\t\ttype: fishTypes.gupik,\n\t\t\t\thtml: `<div class=\"${'fish fish--' + fishTypes.gupik}\" style=\"left: ${\n\t\t\t\t\tposition.x\n\t\t\t\t}%; top: ${position.y}%; transform: rotateY(${180 *\n\t\t\t\t\tposition.z}deg);\"></div>`,\n\t\t\t};\n\t\tcase fishTypes.skalar:\n\t\t\treturn {\n\t\t\t\ttype: fishTypes.skalar,\n\t\t\t\thtml: `<div class=\"${'fish fish--' + fishTypes.skalar}\" style=\"left: ${\n\t\t\t\t\tposition.x\n\t\t\t\t}%; top: ${position.y}%; transform: rotateY(${180 *\n\t\t\t\t\tposition.z}deg);\"></div>`,\n\t\t\t};\n\t\tcase fishTypes.neonka:\n\t\t\treturn {\n\t\t\t\ttype: fishTypes.neonka,\n\t\t\t\thtml: `<div class=\"${'fish fish--' + fishTypes.neonka}\" style=\"left: ${\n\t\t\t\t\tposition.x\n\t\t\t\t}%; top: ${position.y}%; transform: rotateY(${180 *\n\t\t\t\t\tposition.z}deg)\"></div>`,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn {};\n\t}\n};\n","import fishFunc from './fish';\n\nexport default class Controls {\n\tconstructor(fishbowl, buttons) {\n\t\tthis.fishbowl = fishbowl;\n\t\tthis.buttons = buttons;\n\t\tthis.buttons = buttons;\n\t}\n\tinit() {\n\t\tthis.buttons.forEach(button => {\n\t\t\tif (button.dataset.action === 'add') {\n\t\t\t\tbutton.addEventListener('click', () => this.add(button.dataset.fish));\n\t\t\t} else {\n\t\t\t\tbutton.addEventListener('click', () =>\n\t\t\t\t\tthis.remove(button.dataset.fish)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\tadd(fishType) {\n\t\tthis.fishbowl.fishes.push(fishFunc(fishType));\n\t\tthis.fishbowl.render();\n\t}\n\tremove(fishType) {\n\t\tif (this.fishbowl.stats[fishType]) {\n\t\t\tconst index = this.fishbowl.fishes.findIndex(\n\t\t\t\tfish => fish.type === fishType\n\t\t\t);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.fishbowl.fishes.splice(index, 1);\n\t\t\t}\n\t\t\tthis.fishbowl.render();\n\t\t}\n\t}\n}\n","export default class Stats {\n\tconstructor(fishbowl, statsContainer) {\n\t\tthis.statsContainer = statsContainer;\n\t\tthis.fishbowl = fishbowl;\n\n\t\tthis.stats = {};\n\t\tthis.skalar = this.statsContainer.querySelector('[data-type=\"skalar\"]');\n\t\tthis.gupik = this.statsContainer.querySelector('[data-type=\"gupik\"]');\n\t\tthis.neonka = this.statsContainer.querySelector('[data-type=\"neonka\"]');\n\t\tthis.sum = this.statsContainer.querySelector('[data-type=\"sum\"]');\n\t}\n\tupdateStats() {\n\t\tthis.stats = this.fishbowl.fishes.reduce((obj, fish) => {\n\t\t\tif (obj[fish.type]) {\n\t\t\t\tobj[fish.type]++;\n\t\t\t} else {\n\t\t\t\tobj[fish.type] = 1;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}, {});\n\t\tlet sum = 0;\n\t\tfor (let key in this.stats) {\n\t\t\tsum += this.stats[key];\n\t\t}\n\t\tthis.stats.sum = sum;\n\t\tthis.renderStats();\n\t}\n\trenderStats() {\n\t\tthis.skalar.textContent = this.stats.skalar ? this.stats.skalar : '0';\n\t\tthis.gupik.textContent = this.stats.gupik ? this.stats.gupik : '0';\n\t\tthis.neonka.textContent = this.stats.neonka ? this.stats.neonka : '0';\n\t\tthis.sum.textContent = this.stats.sum;\n\t}\n}\n","import Controls from './controls';\nimport Stats from './stats';\nexport default class Fishbowl {\n\tconstructor(fishbowl, stats) {\n\t\tthis.fishbowl = fishbowl;\n\t\tthis.controls = new Controls(\n\t\t\tthis,\n\t\t\tdocument.querySelectorAll('.controls__button')\n\t\t);\n\t\tthis.stats = new Stats(this, stats);\n\t\tthis.fishes = [];\n\t}\n\tinit() {\n\t\tthis.controls.init();\n\t}\n\tupdateFishes() {\n\t\tif (this.fishes.length > 0) {\n\t\t\tconst html = this.fishes.map(fish => fish.html).join('');\n\t\t\tthis.fishbowl.innerHTML = html;\n\t\t}\n\t}\n\n\trender() {\n\t\tthis.stats.updateStats();\n\t\tthis.updateFishes();\n\t}\n}\n","import Fishbowl from './scripts/fishbowl';\nimport './style.scss';\n\nconst bowl = document.querySelector('.aquarium__bowl');\nconst stats = document.querySelector('.stats__container');\n\nconst fishbowl = new Fishbowl(bowl, stats);\nfishbowl.init();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}